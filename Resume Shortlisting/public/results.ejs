<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <!-- <link rel="stylesheet" href="styles.css"> -->
        <title>Resume Shortlisting</title>
    </head>

    <body>
        <div class="d-flex justify-content-center align-items-center vh-100">
            <div class="container card">
                <div class="card-header d-flex justify-content-center align-items-center">
                    <h1 id="jd"></h1>
                </div>
                <div class="card-body" id="results">
                    
                </div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
            crossorigin="anonymous"></script>
        <script>
            // backend data is passed to the frontend
            const data = <%- JSON.stringify(results) %>;
            const resultsElement = document.getElementById('results');
            const jdElement = document.getElementById('jd');
            jdElement.innerText = data.jd;

            // Create a table
            let table = document.createElement('table');
            table.className = 'table';

            // Create table header
            let thead = document.createElement('thead');
            let headerRow = document.createElement('tr');
            let th1 = document.createElement('th');
            th1.innerText = 'Name';
            let th2 = document.createElement('th');
            th2.innerText = 'Score';
            headerRow.appendChild(th1);
            headerRow.appendChild(th2);
            thead.appendChild(headerRow);
            table.appendChild(thead);

            // Create table body
            let tbody = document.createElement('tbody');
            data.resume.forEach(resume => {
                let row = document.createElement('tr');
                let td1 = document.createElement('td');
                td1.innerText = resume.name;
                let td2 = document.createElement('td');
                td2.innerText = resume.score;
                row.appendChild(td1);
                row.appendChild(td2);
                tbody.appendChild(row);
            });
            table.appendChild(tbody);

            // Append the table to the results element
            resultsElement.appendChild(table);
        </script>
    </body>

</html>